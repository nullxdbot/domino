<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Domino Score NullXD</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <link rel="stylesheet" href="css/style.css">
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#8b5cf6">
    
    <link rel="icon" href="img/icon-192.png" type="image/png">
    <link rel="apple-touch-icon" href="img/icon-192.png">
</head>
<body>

    <div class="app-container">
        
        <!-- Modern Header with Glass Effect -->
        <header class="app-header">
            <div class="brand-container">
                <div class="brand-icon">
                    <i class="fas fa-dice-d6"></i>
                </div>
                <div class="brand-text">
                    <span class="brand-title">DOMINO SCORE</span>
                    <span class="brand-subtitle">by NullXD</span>
                </div>
            </div>
            <div class="header-actions">
                <div class="round-badge">
                    <div class="badge-content">
                        <i class="fas fa-crown"></i>
                        <span>Round <strong id="roundCount">1</strong></span>
                    </div>
                </div>
                <button class="btn-icon modern" onclick="toggleSettings(); console.log('Button clicked!');" style="position: relative; z-index: 10000; cursor: pointer;">
                    <i class="fas fa-sliders"></i>
                </button>
            </div>
        </header>

        <!-- Score Difference Indicator -->
        <div class="score-diff-card" id="scoreDiff">
            <div class="diff-icon">
                <i class="fas fa-balance-scale"></i>
            </div>
            <div class="diff-text">Pertandingan Seimbang</div>
        </div>

        <main class="scoreboard" id="scoreboard">
            
            <!-- Player 1 Card -->
            <div class="modern-player-card player-1" id="card-0">
                <div class="winner-ribbon" id="badge-0">
                    <i class="fas fa-trophy"></i>
                    <span>Last Winner!</span>
                </div>
                
                <button class="quick-reset modern" onclick="quickResetPlayer(0)" title="Reset skor pemain">
                    <i class="fas fa-rotate-right"></i>
                </button>
                
                <div class="player-header">
                    <div class="player-info">
                        <span class="player-number">01</span>
                        <span class="player-name">TIM ALPHA</span>
                        <div class="win-badge">
                            <i class="fas fa-star"></i>
                            <span id="win-0">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="score-display" onclick="openCalculator(0)">
                    <div class="score-value" id="score-0">0</div>
                    <div class="score-tap-hint">
                        <i class="fas fa-hand-pointer"></i>
                        <span>Tap to add</span>
                    </div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="progress-0" style="width: 0%"></div>
                    <div class="progress-text" id="progress-text-0">0 / 101</div>
                </div>

                <div class="remaining-text" id="remain-0">Kurang 101 lagi</div>

                <div class="history-section">
                    <div class="history-header">
                        <i class="fas fa-history"></i>
                        <span>History</span>
                    </div>
                    <div class="history-chips" id="history-0">
                        <div class="empty-history">No scores yet</div>
                    </div>
                </div>

                <div class="card-actions">
                    <button class="action-btn minus" onclick="updateScore(0, -1)">
                        <i class="fas fa-minus"></i>
                    </button>
                    <button class="action-btn plus" onclick="openCalculator(0)">
                        <i class="fas fa-plus"></i>
                        <span>Add Score</span>
                    </button>
                </div>
            </div>

            <!-- VS Divider -->
            <div class="vs-section">
                <div class="vs-circle">
                    <span>VS</span>
                </div>
            </div>

            <!-- Player 2 Card -->
            <div class="modern-player-card player-2" id="card-1">
                <div class="winner-ribbon" id="badge-1">
                    <i class="fas fa-trophy"></i>
                    <span>Last Winner!</span>
                </div>
                
                <button class="quick-reset modern" onclick="quickResetPlayer(1)" title="Reset skor pemain">
                    <i class="fas fa-rotate-right"></i>
                </button>
                
                <div class="player-header">
                    <div class="player-info">
                        <span class="player-number">02</span>
                        <span class="player-name">TIM BETA</span>
                        <div class="win-badge">
                            <i class="fas fa-star"></i>
                            <span id="win-1">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="score-display" onclick="openCalculator(1)">
                    <div class="score-value" id="score-1">0</div>
                    <div class="score-tap-hint">
                        <i class="fas fa-hand-pointer"></i>
                        <span>Tap to add</span>
                    </div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="progress-1" style="width: 0%"></div>
                    <div class="progress-text" id="progress-text-1">0 / 101</div>
                </div>

                <div class="remaining-text" id="remain-1">Kurang 101 lagi</div>

                <div class="history-section">
                    <div class="history-header">
                        <i class="fas fa-history"></i>
                        <span>History</span>
                    </div>
                    <div class="history-chips" id="history-1">
                        <div class="empty-history">No scores yet</div>
                    </div>
                </div>

                <div class="card-actions">
                    <button class="action-btn minus" onclick="updateScore(1, -1)">
                        <i class="fas fa-minus"></i>
                    </button>
                    <button class="action-btn plus" onclick="openCalculator(1)">
                        <i class="fas fa-plus"></i>
                        <span>Add Score</span>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Modern Calculator Modal -->
    <div class="overlay" id="calculatorOverlay" onclick="closeCalculatorOnOutside(event)">
        <div class="modern-modal calculator-modal">
            <div class="modal-handle"></div>
            
            <div class="calc-header">
                <span>Calculator</span>
                <button class="close-btn" onclick="document.getElementById('calculatorOverlay').classList.remove('active')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="calc-display">
                <span id="calcDisplay">0</span>
            </div>
            
            <div class="calc-buttons">
                <button class="calc-btn function" onclick="clearCalc()">AC</button>
                <button class="calc-btn function" onclick="backspace()"><i class="fas fa-delete-left"></i></button>
                <button class="calc-btn operator" onclick="appendOperator('/')">√∑</button>
                <button class="calc-btn operator" onclick="appendOperator('*')">√ó</button>
                
                <button class="calc-btn number" onclick="appendNumber('7')">7</button>
                <button class="calc-btn number" onclick="appendNumber('8')">8</button>
                <button class="calc-btn number" onclick="appendNumber('9')">9</button>
                <button class="calc-btn operator" onclick="appendOperator('-')">‚àí</button>
                
                <button class="calc-btn number" onclick="appendNumber('4')">4</button>
                <button class="calc-btn number" onclick="appendNumber('5')">5</button>
                <button class="calc-btn number" onclick="appendNumber('6')">6</button>
                <button class="calc-btn operator" onclick="appendOperator('+')">+</button>
                
                <button class="calc-btn number" onclick="appendNumber('1')">1</button>
                <button class="calc-btn number" onclick="appendNumber('2')">2</button>
                <button class="calc-btn number" onclick="appendNumber('3')">3</button>
                <button class="calc-btn submit" onclick="doneCalculator()">
                    <i class="fas fa-check"></i>
                </button>
                
                <button class="calc-btn number zero" onclick="appendNumber('0')">0</button>
                <button class="calc-btn number" onclick="appendNumber('.')">.</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="overlay" id="settingsOverlay" onclick="if(event.target.id==='settingsOverlay') toggleSettings()">
        <div class="modern-modal settings-modal">
            <div class="modal-handle"></div>
            
            <div class="modal-header">
                <h3><i class="fas fa-sliders"></i> Settings</h3>
                <button class="close-btn" onclick="toggleSettings()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="settings-content">
                <!-- Theme Selection -->
                <div class="setting-group">
                    <div class="setting-label">
                        <i class="fas fa-palette"></i>
                        <span>Color Theme</span>
                    </div>
                    <div class="theme-options">
                        <button class="theme-option purple active" onclick="setTheme('purple')">
                            <div class="theme-preview"></div>
                            <span>Purple</span>
                        </button>
                        <button class="theme-option blue" onclick="setTheme('blue')">
                            <div class="theme-preview"></div>
                            <span>Blue</span>
                        </button>
                        <button class="theme-option green" onclick="setTheme('green')">
                            <div class="theme-preview"></div>
                            <span>Green</span>
                        </button>
                        <button class="theme-option pink" onclick="setTheme('pink')">
                            <div class="theme-preview"></div>
                            <span>Pink</span>
                        </button>
                    </div>
                </div>

                <!-- Limit Setting -->
                <div class="setting-group">
                    <div class="setting-label">
                        <i class="fas fa-flag-checkered"></i>
                        <span>Score Limit</span>
                    </div>
                    <div class="input-group">
                        <input type="number" id="limitInput" value="101" onchange="updateLimit(this.value)" min="10" max="999">
                        <span class="input-suffix">points</span>
                    </div>
                </div>

                <!-- Sound Toggle -->
                <div class="setting-group">
                    <div class="setting-label">
                        <i class="fas fa-volume-high"></i>
                        <span>Sound Effects</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="soundToggle" onchange="toggleSound()" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- Compact Mode -->
                <div class="setting-group">
                    <div class="setting-label">
                        <i class="fas fa-compress"></i>
                        <span>Compact Mode</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="compactToggle" onchange="toggleCompactMode()">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- Action Buttons -->
                <div class="settings-actions">
                    <button class="settings-btn primary" onclick="resetRound()">
                        <i class="fas fa-rotate"></i>
                        <span>New Round</span>
                    </button>
                    <button class="settings-btn danger" onclick="hardReset()">
                        <i class="fas fa-trash"></i>
                        <span>Reset All</span>
                    </button>
                    <button class="settings-btn info" onclick="openAbout()">
                        <i class="fas fa-info-circle"></i>
                        <span>About</span>
                    </button>
                </div>

                <!-- Social Links -->
                <div class="social-section">
                    <p class="social-label">Follow Me:</p>
                    <div class="social-links">
                        <a href="https://instagram.com/farrelauliairfealdo_" target="_blank" class="social-link ig">
                            <i class="fa-brands fa-instagram"></i>
                        </a>
                        <a href="https://tiktok.com/@farrel.aulia.irfealdo" target="_blank" class="social-link tk">
                            <i class="fa-brands fa-tiktok"></i>
                        </a>
                        <a href="https://t.me/farrelauliairfealdo" target="_blank" class="social-link tg">
                            <i class="fa-brands fa-telegram"></i>
                        </a>
                    </div>
                    <p class="developer-credit">Made with ‚ù§Ô∏è by Farrel Aulia Irfealdo</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div class="overlay" id="gameOverModal">
        <div class="modern-modal gameover-modal">
            <div class="confetti-container" id="confetti"></div>
            
            <div class="trophy-icon">
                <i class="fas fa-trophy"></i>
            </div>
            
            <h2 class="congrats-text">Victory!</h2>
            <p class="winner-announce">
                <span id="winnerName">Tim 1</span> Wins!
            </p>
            
            <div class="final-score-display">
                <span class="final-score-label">Final Score</span>
                <span class="final-score-value" id="finalScore">0</span>
            </div>
            
            <div class="gameover-actions">
                <button class="gameover-btn primary" onclick="resetRound(); document.getElementById('gameOverModal').classList.remove('active')">
                    <i class="fas fa-play"></i>
                    New Round
                </button>
                <button class="gameover-btn secondary" onclick="document.getElementById('gameOverModal').classList.remove('active')">
                    <i class="fas fa-eye"></i>
                    View Scores
                </button>
            </div>
        </div>
    </div>

    <!-- Confirm Modal -->
    <div class="overlay" id="confirmModal">
        <div class="modern-modal confirm-modal">
            <div class="confirm-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <h3 id="confirmMessage">Are you sure?</h3>
            <div class="confirm-actions">
                <button class="confirm-btn cancel" onclick="closeConfirmModal()">Cancel</button>
                <button class="confirm-btn confirm" onclick="executeConfirm()">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Delete Score Modal -->
    <div class="delete-modal" id="deleteScoreModal">
        <div class="delete-modal-content">
            <div class="delete-icon">
                <i class="fas fa-trash-alt"></i>
            </div>
            <p id="deleteScoreMessage">Delete this score?</p>
            <div class="delete-actions">
                <button class="delete-btn cancel" onclick="closeDeleteScoreModal()">Cancel</button>
                <button class="delete-btn confirm" onclick="executeDeleteScore()">Delete</button>
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div class="overlay" id="aboutOverlay" onclick="if(event.target.id==='aboutOverlay') closeAbout()">
        <div class="modern-modal about-modal">
            <div class="modal-handle"></div>
            
            <div class="modal-header">
                <h3><i class="fas fa-info-circle"></i> About</h3>
                <button class="close-btn" onclick="closeAbout()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="about-content">
                <div class="app-logo-section">
                    <div class="app-logo">
                        <i class="fas fa-dice-d6"></i>
                    </div>
                    <h2>Domino Score NullXD</h2>
                    <p class="version">Version 2.0.0</p>
                </div>

                <div class="about-section">
                    <h4><i class="fas fa-star"></i> Features</h4>
                    <ul class="feature-list">
                        <li><i class="fas fa-check"></i> Modern & Beautiful UI</li>
                        <li><i class="fas fa-check"></i> Real-time Score Tracking</li>
                        <li><i class="fas fa-check"></i> Built-in Calculator</li>
                        <li><i class="fas fa-check"></i> Multiple Theme Options</li>
                        <li><i class="fas fa-check"></i> Score History</li>
                        <li><i class="fas fa-check"></i> Auto-save Progress</li>
                        <li><i class="fas fa-check"></i> PWA Support</li>
                    </ul>
                </div>

                <div class="about-section">
                    <h4><i class="fas fa-code"></i> Developer</h4>
                    <p class="dev-info">
                        Created by <strong>Farrel Aulia Irfealdo</strong><br>
                        with love from Indonesia üáÆüá©
                    </p>
                </div>

                <div class="donate-section">
                    <a href="https://saweria.co/nullxd" target="_blank" class="donate-btn">
                        <i class="fas fa-coffee"></i>
                        Support via Saweria
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="sfx-click" src="sfx/sfx-click.wav"></audio>
    <audio id="sfx-win" src="sfx/sfx-win.m4a"></audio>

    <script src="js/app.js"></script>

    <script>
        // Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('sw.js').then(function(registration) {
                    console.log('ServiceWorker registered');
                }, function(err) {
                    console.log('ServiceWorker failed:', err);
                });
            });
        }
    </script>
</body>
</html>
